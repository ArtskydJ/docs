---
layout: default
description: The concept of value "analysis" refers to the process of breaking up a givenvalue into a set of sub-values, which are internally tied together by metadata,which in turn influences both the search and sort stages to provide the mostappropriate match for the specified conditions, similar to queries to websearch engines
---
# Analyzers powered by IResearch

## Background

The concept of value "analysis" refers to the process of breaking up a given
value into a set of sub-values, which are internally tied together by metadata,
which in turn influences both the search and sort stages to provide the most
appropriate match for the specified conditions, similar to queries to web
search engines.

In plain terms this means a user can for example:

- request documents where the `body` attribute best matches `a quick brown fox`
- request documents where the `dna` attribute best matches a DNA sub sequence
- request documents where the `name` attribute best matches gender
- etc. (via custom analyzers)

## What are Analyzers

Analyzers are helpers that allow a user the parse and transform an arbitrary
value, currently only string values are supported, into zero or more resulting
values. The parsing and transformation applied is directed by the analyzer
*type* and the analyzer *properties*.

The Analyzer implementations themselves are provided by the underlying
[IResearch library](https://github.com/iresearch-toolkit/iresearch){:target="_blank"}.
Therefore their most common usecase for filter condition matching is with
[ArangoSearch Views](arangosearch.html).
However, Analyzers can be used as standalone helpers via the `TOKENS(...)`
function, allowing a user to leverage the value transformation power of the
Analyzer in any context where an AQL function can be used.

A user-visible Analyzer is simply an alias for an underlying implementation
*type* + configuration *properties* and a set of *features*. The *features*
dictate what term matching capabilities are available and as such are only
applicable in the context of ArangoSearch Views.

The aforementioned three configuration attributes that an Analyzer is composed
of are given a simple *name* that can be used to reference the said Analyzer.
Thus an analyzer definition is composed of the following attributes:

- *name*: the analyzer name
- *type*: the analyzer type
- *properties*: the properties used to configure the specified type
- *features*: the set of features to set on the analyzer generated fields

The valid values for *type* is any Analyzer type available.

The valid values for the *properties* are dependant on what *type* is used. For
example for the *text* type its property may simply be an object with the value
`"locale": "en"`, whereas for the "delimited" type its property may simply be
the delimiter `,`.

The valid values for the *features* are dependant on both the capabilities of
the underlying *type* and the query filtering and sorting functions that the
result can be used with. For example the *text* type will produce
*frequency* + *norm* + *position* and the `PHRASE(...)` function requires
*frequency* + *position* to be available.

Currently the following *features* are supported:

- *frequency*: how often a term is seen, required for PHRASE(...)
- *norm*: the field normalization factor
- *position*: sequentially increasing term position, required for PHRASE(...)
  if present then the *frequency* feature is also required

## Analyzer usage

For Analyzer usage in the context of ArangoSearch Views please see the section
[ArangoSearch Views](arangosearch.html).

The value transformation capabilities of a given analyzer can be invoked via
the `TOKENS(...)` function to for example:
- break up a string of words into individual words, while also optionally
  filtering out stopwords, applying case conversion and extracting word stems
- parse CSV/TSV or other delimiter encoded string values into individual fields

The signature of the `TOKENS(...)` function is:

    TOKENS(<value-to-parse>, <analyzer-name-to-apply>)

It currently accepts any string value, and an analyzer name, and will produce
an array of zero or more tokens generated by the specified analyzer
transformation.




Also see [Analyzers](http/analyzers.html) in the HTTP book
including a list of available [Analyzer Types](http/analyzers.html#analyzer-types).





Feature           | Identity | N-gram  | Delimiter | Stem | Norm| Text
------------------|----------|---------|-----------|------|-----|-----
**Tokenization**  | No       | No      | (Yes)     | No   | No  | Yes
**Stemming**      | No       | No      | No        | Yes  | No  | Yes
**Normalization** | No       | No      | No        | No   | Yes | Yes
